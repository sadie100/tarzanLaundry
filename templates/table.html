
{% extends "index.html" %}

{% block table %}
     <div class="timeTable text-center w-9/12">
      <div class="timeColumn">시간</div>
      {% for i in range(6,24) %} {%if nowtime.hour == i%}
      <div class="timeColumn text-red-500">{{i}}시</div>
      {% else %}
      <div class="timeColumn">{{i}}시</div>
      {% endif %} {% endfor %}
      <div class="labelColumn1">오늘</div>
      <div class="timeWrapper" id="today">
        {% for time in range(6,24)%}
        {% if time < nowtime['hour'] %}
        <!-- 지난 시간 -->
        <div class="blockWrapper" id="today-{{time}}">
          {% for type in ['laundry','dry']%}
            {% for room in ['325', '326']%}
              {%for reserve in todayReservations %}
                {% if reserve['time'] == time and reserve['room'] == room and reserve['type']==type %}
                  {% if time < nowtime['hour'] %}
                    <div class="bg-gray-300"></div>
                  {% else %}
                    <div class="bg-yellow-300"></div>
                  {% endif %}
                  {%break%}
                {% endif %}
                {%endfor%}
                <div class="bg-white"></div>
            {% endfor %}
          {% endfor %}
        </div>
        {% else %}
        <div class="blockWrapper cursor-pointer" onclick="pick({{time}},'today', {{todayReservations}})" id="today-{{time}}">
          {% for type in ['laundry','dry']%}
            {% for room in ['325', '326']%}
              {%for reserve in todayReservations %}
                {% if reserve['time'] == time and reserve['room'] == room and reserve['type']==type %}
                  {% if time < nowtime['hour'] %}
                    <div class="bg-gray-300"></div>
                  {% else %}
                    <div class="bg-yellow-300"></div>
                  {% endif %}
                  {%break%}
                {% endif %}
                {%endfor%}
                <div class="bg-white"></div>
            {% endfor %}
          {% endfor %}
        </div>
        {% endif %}
        {% endfor %}
      </div>
      <div class="labelColumn2">내일</div>
      <div class="timeWrapper" id="tomorrow">
        {% for time in range(6,24)%}
        <div class="blockWrapper cursor-pointer"  onclick="pick({{time}},'tomorrow', {{tomorrowReservations}})" id="tomorrow-{{time}}">
          {% for type in ['laundry','dry']%}
            {% for room in ['325', '326']%}
              {%for reserve in tomorrowReservations %}
                {% if reserve['time'] == time and reserve['room'] == room and reserve['type']==type %}
                    <div class="bg-yellow-300"></div>
                  {%break%}
                {% endif %}
              {%endfor%}
              <div class="bg-white cursor-pointer"></div>
            {% endfor %}
          {% endfor %}
        </div>
        {% endfor %}
      </div>
      <div class="text-red-500 font-bold text-4xl col-start-2 col-end-10 text-left py-2">
        현재 시각 : {{nowtime.hour}}시 {{nowtime.minute}}분
      </div>
{% endblock %}
